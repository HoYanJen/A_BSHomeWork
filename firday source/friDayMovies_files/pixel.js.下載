!function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,o=Object(this),r=o.length>>>0,i=Number(t)||0;if(null===this)throw new TypeError('"this" is null or not defined');if(0===r)return-1;if(Math.abs(i)===1/0&&(i=0),r<=i)return-1;for(n=Math.max(0<=i?i:r-Math.abs(i),0);n<r;){if(o.hasOwnProperty(n)&&o[n]===e)return n;n+=1}return-1}),this.now=function(){return Number(new Date)},Function.prototype.bind||(Function.prototype.bind=function(e){var t,n,o,r;if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return t=Array.prototype.slice.call(arguments,1),o=function(){},r=function(){return n.apply(this instanceof o?this:e,t.concat(Array.prototype.slice.call(arguments)))},(n=this).prototype&&(o.prototype=this.prototype),r.prototype=new o,r}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),document.getElementsByClassName||(document.getElementsByClassName=function(e){return this.querySelectorAll("."+e)}),window.hasOwnProperty=window.hasOwnProperty||Object.prototype.hasOwnProperty}(),function(f){"use strict";var c=f._bw=f._bw||function(){c.callMethods.apply(c,arguments)};if(f.bw=f._bw,c&&c.init)throw new Error("Loading multiple times for pixel.js");c.init=!0,c.modules={},c.resolvedModules={},c.getModules=function(e){return c.resolvedModules[e]||(c.resolvedModules[e]=c.modules[e]()),c.resolvedModules[e]},c.ensureModuleRegistered=function(e,t){c.modules[e]||(c.modules[e]=t)},c.ensureModuleRegistered("utils",function(){return function(){var e,y,t,u,n,o;!function(e){function n(e,t){try{f._bw.getModules("eventsLogging").sendError({from:e,message:t},1e-4)}catch(e){}}e.inIframe=function(){try{return f.self!==f.top}catch(e){return!0}},e.getUrl=function(){var e;try{"about:blank"===(e=f.top.location.href)&&(e=f.location.href)}catch(e){n("getUrl",e.message)}return e||f.location.href},e.getReferrer=function(){var e,t="";try{(e=f.top)&&e.document&&e.document.referrer&&(t=e.document.referrer)}catch(e){n("getReferrer",e.message)}return t},e.getMetadata=function(){var e,t,n,o,r,i=/^(og:)/,a=document.getElementsByTagName("title"),s=document.getElementsByTagName("meta"),c=document.querySelector('script[type="application/ld+json"]'),u={Meta:{title:0<a.length?a[0].text:""},OpenGraph:{},"JSON-LD":c&&c.text};for(o=0,r=s.length;o<r;o++)t=(e=s[o]).getAttribute("name")||e.getAttribute("property"),n=e.getAttribute("content"),t&&(t=t.toLowerCase(),i.test(t)?u.OpenGraph[t]=n:u.Meta[t]=n);return u},e.now=function(){return Number(new Date)},e.getParamFromUrl=function(e,t){var n;try{if(n=RegExp("[?|&]"+t+"=(.+?)(&|$)").exec(e))return decodeURIComponent(n[1])}catch(e){}return""},e.getBridgewellFirstPartyCookie=function(e){var t=f._bw,n=t.getModules("storageUtils"),o="";try{(o=n.getCookie(e))||(o="c"+t.it+"x"+"xxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)}),n.setCookie(e,o,864e6))}catch(e){!function(e,t){try{f._bw.getModules("eventsLogging").logError(e,t)}catch(e){}}("utils-getBridgewellFirstPartyCookie",e)}return o}}(this),function(e){var m=f._bw,v=m.getModules("eventsLogging"),r=Object.prototype.toString,h=v.logBotEvent,y=10<=function(){var e,t,n=10;try{(-1!==(e=f.navigator.userAgent).indexOf("MSIE")||document.documentMode)&&("Microsoft Internet Explorer"===navigator.appName?t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"===navigator.appName&&(t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),t&&null!==t.exec(e)&&(n=parseFloat(RegExp.$1)))}catch(e){}return n}();function i(e){"[object Array]"===r.call(e)&&(e.sent||(e.sent=!0,m.callMethods.apply(m,e)))}function a(e){var t,n=0,o=f[e];if(0<m.pixelIdList.length)for(;n<o.length;)i(o[n]),n++;else for(;n<o.length;){if(t=o[n],"[object Array]"===r.call(t)&&!t.sent&&"init"===t[0])return i(t),void a(e);n++}}function I(e,t,n,o,r){var i=m.getModules("utils"),a={},s=new(m.getModules("initParamList").createParamlist);return o&&s.addRange(o),a.pixel_version=m.version,a.url=i.getUrl(),a.referrer=i.getReferrer(),a.is_in_iframe=i.inIframe(),a.ga_id=m.gid,a.first_party_cookie=m.fp,s.append("advertiser_id",e),s.append("browser",a),s.append("event_name",t),s.append("init_time",m.it),s.append("scupio_com_cookie_id",m.orgid),s.append("ubid",m.ubid),s.append("custom_data",n),s.append("develop_mode",m.developMode),s.append("gt",m.gt),s.append("aggt",m.aggt),s.appendList("api_event_names",r),y||(1948<s.toQueryString().length&&s.truncate("referral",1e3,"__T"),1948<s.toQueryString().length&&s.truncate("url",1e3,"__T")),s}function c(e){var t=e.url||"",n=e.logNoiseEvent||function(){},o=-1<t.indexOf("//gtm-msr.appspot.com");return o&&n("gtm-msr"),o}function u(e){var t=e.userAgent||"",n=e.logNoiseEvent||function(){},o=new RegExp(/(Googlebot\/[0-9]+.[0-9]+)/).test(t)&&-1<t.indexOf("www.google.com/bot.html");return o&&n("Google Bot"),o}function l(e){var t=e.userAgent||"",n=e.logNoiseEvent||function(){},o=-1<t.indexOf("AdsBot-Google")&&-1<t.indexOf("www.google.com/adsbot.html");return o&&n("AdsBot-Google"),o}function d(e){var t=e.userAgent||"",n=e.logNoiseEvent||function(){},o=-1<t.indexOf("AdsBot-Google-Mobile")&&-1<t.indexOf("www.google.com/mobile/adsbot.html");return o&&n("AdsBot-Google-Mobile"),o}function b(e,t){var n=!1,o=function(e){t("noise",e)};try{var r=navigator.userAgent,i={gtm:c({url:e.getUrl(),logNoiseEvent:o}),googleBot:u({userAgent:r,logNoiseEvent:o}),googleAdsBot:l({userAgent:r,logNoiseEvent:o}),googleMobileAdsBot:d({userAgent:r,logNoiseEvent:o})},a=Object.keys(i);for(var s in a)i[a[s]]&&(n=!0)}catch(e){t("isGoogleBotOrGTM error",e.message)}return n}e.flushQueue=function(e){for(;e.length;)m.callMethods.apply(m,e.shift())},e.isAutoConfig=function(e){return-1===m.disabledAutoConfigList.indexOf(e)},e.generateBaseParamList=function(e){var t=new(m.getModules("initParamList").createParamlist);return t.append("user_data",e.userData),t.append("event_count",e.eventCount++),t},e.packageParam=I,e.sendEvent=function(t,e,n,o,r,i){var a,s="https://pixel-api.scupio.com/v0/event",c=m.getModules("utils"),u=y?"POST":"GET",l=I(t,e,n,o),d=v.logError;if(a={success:function(e){m.developMode&&console.log(e),e&&(e.cookie_matching_tags&&c.cookieMatching(e.cookie_matching_tags),e.third_party_tracking_data&&c.trackThirdPartyEvent(t,e.third_party_tracking_data,!1,d))},fail:function(){d("ajax","fail")},ontimeout:function(){d("ajax","timeout")},onerror:function(){d("ajax","error")},onabort:function(){d("ajax","abort")}},!b(c,h)){if(navigator&&navigator.sendBeacon&&r)try{for(var g=new FormData,p=l._paramList,f=0;f<p.length;f++)g.append(p[f].name,p[f].value);return i&&c.trackThirdPartyEvent(t,i,r,d),void navigator.sendBeacon("https://pixel-api.scupio.com/v0/event",g)}catch(e){d("sendBeacon",e)}c.ajax(s,{data:l.toQueryString(),method:u,timeout:5e3},a)}},e.sendTrackingApi=function(e,t,n,o,r,i){var a,s=m.getModules("utils"),c=y?"POST":"GET",u=I(e,t,o,r,n),l=v.logError;a={success:function(e){m.developMode&&console.log(e),e&&i(e.api_third_party_tracking_data)},fail:function(){l("ajax","fail")},ontimeout:function(){l("ajax","timeout")},onerror:function(){l("ajax","error")},onabort:function(){l("ajax","abort")}},s.ajax("https://pixel-api.scupio.com/v0/trackingapi",{data:u.toQueryString(),method:c,timeout:5e3},a)},e.useGET=function(){y=!1},e.hackPush=function(t){var e=f[t]=f[t]||[];e.ready||(a(t),e.push=function(e){Array.prototype.push.apply(this,[e]),function(e){var t=0,n=f[e];if(!n.allsent){for(;t<n.length;){if("[object Array]"===r.call(n[t])&&!n[t].sent)return!1;t++}n.allsent=!0}return!0}(t)?i(e):a(t)},e.ready=!0)},e.flushHackPushedDataLayer=a,e.isGTM=c,e.isGoogleAdsBot=l,e.isGoogleBot=u,e.isGoogleBotOrGTM=b,e.isGoogleMobileAdsBot=d}(this),e=this,y=f._bw,e.trackGoogleEvent=function(e,t,n){var o=document.getElementsByTagName("script")[0],r=document.createElement("script"),i=f.dataLayer=f.dataLayer||[],a="https://www.googletagmanager.com/gtag/js?id="+e;function s(){i.push(arguments)}r.src=a,r.async=!0,o.parentNode.insertBefore(r,o),s("js",new Date),s("config",e),t&&s("event",t,n)},e.trackFbEvent=function(e,t,n,o,r){var i,a=y.getModules("utils"),s=new(y.getModules("initParamList").createParamlist),c=document.createElement("img"),u=document.getElementsByTagName("script")[0];if(s.append("id",e),s.append("ev",t),s.append("dl",a.getUrl()),s.append("rl",a.getReferrer()),s.append("if",a.inIframe()),s.append("ts",(new Date).valueOf()),s.append("cd",n),i="https://www.facebook.com/tr/?"+s.toQueryString(),o)try{navigator.sendBeacon(i)}catch(e){r("sendBeacon",e)}else c.src=i,c.style.display="none",u.parentNode.insertBefore(c,u)},e.trackTagtooEvent=function(e){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];f.tagtoo_advertiser_id=e,t.type="text/javascript",t.async=!0,t.src="https://ad.tagtoo.co/media/ad/track.js",n.parentNode.insertBefore(t,n)},e.trackOathEvents=function(e){var t=document.getElementsByTagName("script")[0],n=document.createElement("script"),o=t.parentNode,r="dotq";f[r]=f[r]||[],f[r].push(e),n.src="https://s.yimg.com/wi/ytc.js",n.async=!0,n.onload=n.onreadystatechange=function(){var t,e=this.readyState,n=f[r];if(!e||"complete"==e||"loaded"==e)try{t=f.YAHOO.ywa.I13N.fireBeacon,f[r]=[],f[r].push=function(e){t([e])},t(n)}catch(e){}},o.insertBefore(n,t)},e.trackThirdPartyEvent=function(e,t,n,o){var r,i,a,s,c,u,l,d,g,p=y.getModules("utils"),f=t.google||[],m=t.facebook||[],v=t.tagtoo||[],h=t.oath||[];for(s=0,a=f.length;s<a;s++)r=f[s],p.trackGoogleEvent(r.account_id,r.event_name,r.parameter);for(s=0,a=m.length;s<a;s++)i=(r=m[s]).event_name,c=e,u=i,l=void 0,l=y.getModules("configStore"),d=l.getFacebookEventConfig(c),g=d.shouldSendFbUniqueEvent,(u!==d.uniqueEvent||(l.setShouldSendFbUniqueEvent(c,!1),g))&&p.trackFbEvent(r.account_id,i,r.parameter,n,o);for(s=0,a=v.length;s<a;s++)r=v[s],p.trackTagtooEvent(r.account_id);for(s=0,a=h.length;s<a;s++)r=h[s],p.trackOathEvents(r.parameter)},function(e){var l=f._bw,g="https://img.scupio.com/html/ls.html?mid=",o={SERVER_ID:"_bwsid",FINGERPRINT:"_bwfpid",FINGERPRINT_DETAIL:"_bwfpid_detail",LOCAL_STORAGE_ID:"sclsid",GYM_TRIP_ID:"gym_tripid",GYM_TRIP_RAKUTEN_ID:"af_gid",GYM_AGG_ID:"bwaggid"},d={STORAGE_UTILS:"storageUtils",UTILS:"utils"};function t(e){var t=l.getModules(d.STORAGE_UTILS);return t.getFirstPartyLocalStorageItem(e)||t.getSessionStorageItem(e)||t.getCookie(e)}function r(e,t){var n=l.getModules(d.STORAGE_UTILS);n.setCookie(e,t,864e6),n.setFirstPartyLocalStorageItem(e,t),n.setSessionStorageItem(e,t)}function n(e,n){var o=l.getModules("fingerprint"),t={excludes:["webgl","webglVendorAndRenderer","adBlock","fonts","enumerateDevices","pixelRatio","doNotTrack","fontsFlash"]};n||(n=e,e=t),e.excludes=e.excludes||t.excludes,o.getInfos(e,function(e){var t=o.hash(e);n&&n(t,e)})}e.getServerId=function(){return t(o.SERVER_ID)},e.getTempServerId=function(){return"csid"+l.getModules(d.UTILS).now()+"x"+"xxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)})},e.storeServerId=function(e){r(o.SERVER_ID,e)},e.getFingerprintId=function(){return t(o.FINGERPRINT)},e.storeFingerprint=function(e){var t=l.getModules(d.STORAGE_UTILS),p=l.getModules(d.UTILS),n=e.fpid,f=e.details,m=function(e){return"string"!=typeof e&&(e=JSON.stringify(e)),e};r(o.FINGERPRINT,n),t.setFirstPartyLocalStorageItem(o.FINGERPRINT_DETAIL,f),t.setSessionStorageItem(o.FINGERPRINT_DETAIL,f),t.openIndexedDB(function(e){var g;e&&(g=e.getStore(t.STORE.FINGERPRINT)).getRange(null,function(e){var t,n,o,r,i,a,s=e.result,c={},u=[],l=[],d=p.now();for(t=0,n=s.length;t<n;t++)c[(o=s[t]).name]=o;for(t=0,n=f.length;t<n;t++)i=(o=f[t]).key,a=o.value,(r=c[i])?m(a)!==m(r.value)&&l.push({name:i,value:a,change_count:r.change_count+1,create_time:r.create_time,update_time:d}):u.push({name:i,value:a,change_count:0,create_time:d,update_time:d});g.insert(u),g.update(l)})})},e.calcFingerprintId=n,e.checkIdPair=function(e,s){var c=e.sid,u=e.fpid;n({},function(t,n){var e,o,r,i,a;e={sid:c,fpid:t,oldfpid:u},o=function(e){s&&s({sid:e.sid,fpid:t,fpDetails:n})},r="ajax-checkIdPair",i=l.getModules(d.UTILS),a=l.getModules("eventsLogging").logError,i.ajax("https://pixel-api.scupio.com/v0/id",{data:e,method:"POST",timeout:5e3},{success:function(e){o(e)},fail:function(){a(r,"fail")},ontimeout:function(){a(r,"timeout")},onerror:function(){a(r,"error")},onabort:function(){a(r,"abort")}})})},e.toGetOrgUserId=function(t){var n,e,o,r,i,a,s=function(e){s=function(){},clearTimeout(n),t(e=e||"")},c=function(e){var t,n,o,r;e&&"string"==typeof e.origin&&0<=e.origin.indexOf("//img.scupio.com")&&(t=e.data||e.message,n="message",r=c,(o=f).removeEventListener?o.removeEventListener(n,r,!1):o.detachEvent&&o.detachEvent("on"+n,r),s(t))};"function"==typeof f.postMessage?(r="message",a=c,(i=f).addEventListener?i.addEventListener(r,a,!1):i.attachEvent&&i.attachEvent("on"+r,a),e=document.getElementsByTagName("script")[0],(o=document.createElement("iframe")).src="https://img.scupio.com/html/em.html",o.style.display="none",e.parentNode.insertBefore(o,e)):s(""),n=setTimeout(s,800)},e.getUBID=function(n,e){var t=l.getModules(d.STORAGE_UTILS).getFirstPartyLocalStorageItem(o.LOCAL_STORAGE_ID);t?n(t):function(e,t,n){var o,r,i,a,s,c,u=!1,l=document.getElementsByTagName("script")[0];function d(e){u||(u=!0,t(e),clearTimeout(o))}"function"==typeof f.postMessage&&"object"==typeof f.localStorage?(a="message",c=function e(t){var n,o,r,i;t&&"string"==typeof t.origin&&0<=t.origin.indexOf("//img.scupio.com")&&(n=t.data||t.message,o="message",i=e,(r=f).removeEventListener?r.removeEventListener(o,i,!1):r.detachEvent&&r.detachEvent("on"+o,i),d(n))},(s=f).addEventListener?s.addEventListener(a,c,!1):s.attachEvent&&s.attachEvent("on"+a,c),(r=document.createElement("iframe")).src=g+e,(i=r.style).display="none",i.position="absolute",i.visibility="hidden",l.parentNode.insertBefore(r,l)):d(null),o=setTimeout(d,n)}(0,function(e){var t;t=e,l.getModules(d.STORAGE_UTILS).setFirstPartyLocalStorageItem(o.LOCAL_STORAGE_ID,t),n(e)},e||2e3)},e.processGYMTripId=function(){var e=l.getModules(d.STORAGE_UTILS),t=l.getModules(d.UTILS);l.gt=l.gt||t.getParamFromUrl(f.location.search,o.GYM_TRIP_ID)||t.getParamFromUrl(t.getReferrer(),o.GYM_TRIP_ID)||e.getCookie(o.GYM_TRIP_RAKUTEN_ID)||e.getCookie(o.GYM_TRIP_ID),e.setCookie(o.GYM_TRIP_ID,l.gt),l.aggt=l.aggt||t.getParamFromUrl(f.location.search,o.GYM_AGG_ID)||t.getParamFromUrl(t.getReferrer(),o.GYM_AGG_ID)||e.getCookie(o.GYM_AGG_ID),e.setCookie(o.GYM_AGG_ID,l.aggt)}}(this),t=this,u=f._bw,t.cookieMatching=function(e){var t,n,o="ajax-cookieMatching",r=e||[],i=r.length,a=u.getModules("eventsLogging"),s=u.getModules("utils"),c=a.logError;for(n={fail:function(){c(o,"fail")},ontimeout:function(){c(o,"timeout")},onerror:function(){c(o,"error")},onabort:function(){c(o,"abort")}},t=0;t<i;t++)try{s.ajax(r[t].base_url,{method:"GET",timeout:5e3,data:r[t].parameters},n)}catch(e){c(o,"error")}},this.ajax=function(e,t,o){if("string"!=typeof e||void 0===t)return!1;var n,r,i,a=new XMLHttpRequest,s="",c="function",u=t.data,l=Object.prototype.hasOwnProperty;if(t.method=t.method||"POST",e=e+"?cb="+Math.random(),"string"!=typeof u)for(n in u)l.call(u,n)&&(s&&(s+="&"),"string"==typeof u[n]?s+=n+"="+encodeURIComponent(u[n]):s+=n+"="+encodeURIComponent(JSON.stringify(u[n])));else s=u;switch(t.method){case"POST":a.open(t.method,e,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("Accept","application/json, text/javascript, */*"),a.withCredentials=!0,a.timeout=t.timeout||1e3,a.onload=function(e){if(200===a.status){var t=e.srcElement||e.target,n="";if(o&&typeof o.success===c){try{n=JSON.parse(t.response)}catch(e){}n?o.success(n):o.success()}}else o&&typeof o.fail===c&&o.fail(e)},a.onerror=function(e){o&&typeof o.onerror===c&&o.onerror(e)},a.onabort=function(e){o&&typeof o.onabort===c&&o.onabort(e)},a.ontimeout=function(e){o&&typeof o.ontimeout===c&&o.ontimeout(e)},a.send(s);break;case"GET":r=document.createElement("script"),i=document.getElementsByTagName("script")[0],r.src=e+"&"+s,r.async="boolean"!=typeof t.async||t.async,i.parentNode.insertBefore(r,i)}},n=this,o={},function i(a,s,c){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,i,a,s,c)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){n.ENDPOINT="https://u.scupio.com/event"},{}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EventLogger=void 0;var o,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),i=(o=e("ajax"))&&o.__esModule?o:{default:o},d=e("./../config"),g=i.default.ajax,a=function(){function n(e,t){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.tagName=e,this.samplingRatio=t&&t.samplingRatio||1}return r(n,[{key:"logInfo",value:function(e,t,n){this.logWithPrefix("INFO",e,t,n)}},{key:"logDebug",value:function(e,t,n){this.logWithPrefix("DEBUG",e,t,n)}},{key:"logWarning",value:function(e,t,n){this.logWithPrefix("WARNING",e,t,n)}},{key:"logError",value:function(e,t,n){this.logWithPrefix("ERR",e,t,n)}},{key:"logWithPrefix",value:function(e,t,n,o){var r,i,a,s=(e||"INFO")+"_"+this.tagName,c=Math.random(),u=o&&o.samplingRatio;u||0===u||(u=this.samplingRatio),c<u&&(r=s,i=l({from:t},"string"==typeof n?{message:n}:n),a="tag="+r+"&log="+encodeURIComponent(JSON.stringify(i)),g(d.ENDPOINT,{method:"GET",data:a}))}}]),n}();n.EventLogger=a},{"./../config":1,ajax:4}],3:[function(n,e,t){(function(e){var t=n("./eventLogger");e.EventLogger=t.EventLogger}).call(this,"undefined"!=typeof global?global:void 0!==o?o:void 0!==f?f:{})},{"./eventLogger":2}],4:[function(e,t,n){this.ajax=function(e,t,o){if("string"!=typeof e||void 0===t)return!1;var n,r,i,a=new XMLHttpRequest,s="",c="function",u=t.data,l=Object.prototype.hasOwnProperty;if(t.method=t.method||"POST",e=e+"?cb="+Math.random(),"string"!=typeof u)for(n in u)l.call(u,n)&&(s&&(s+="&"),"string"==typeof u[n]?s+=n+"="+encodeURIComponent(u[n]):s+=n+"="+encodeURIComponent(JSON.stringify(u[n])));else s=u;switch(t.method){case"POST":a.open(t.method,e,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("Accept","application/json, text/javascript, */*"),a.withCredentials=!0,a.timeout=t.timeout||1e3,a.onload=function(e){if(200===a.status){var t=e.srcElement||e.target,n="";if(o&&typeof o.success===c){try{n=JSON.parse(t.response)}catch(e){}n?o.success(n):o.success()}}else o&&typeof o.fail===c&&o.fail(e)},a.onerror=function(e){o&&typeof o.onerror===c&&o.onerror(e)},a.onabort=function(e){o&&typeof o.onabort===c&&o.onabort(e)},a.ontimeout=function(e){o&&typeof o.ontimeout===c&&o.ontimeout(e)},a.send(s);break;case"GET":r=document.createElement("script"),i=document.getElementsByTagName("script")[0],r.src=e+"&"+s,r.async="boolean"!=typeof t.async||t.async,i.parentNode.insertBefore(r,i)}}},{}]},{},[3]),n.EventLogger=o.EventLogger}.bind(e={})(),e;var e}),c.ensureModuleRegistered("storageUtils",function(){return function(){var e,o,r,t,n,i;e=this,o=f.localStorage,r="object"==typeof o&&null!==o&&"function"==typeof o.getItem&&"function"==typeof o.setItem,e.getFirstPartyLocalStorageItem=function(e){var t="";try{r&&(t=o.getItem(e)||"")}catch(e){}return t},e.setFirstPartyLocalStorageItem=function(e,t){var n=null!=t;try{r&&n&&("string"!=typeof t&&(t=JSON.stringify(t)),0<t.length&&o.setItem(e,t))}catch(e){}},t=this,n=f.sessionStorage,t.getSessionStorageItem=function(e){var t="";return n&&(t=n.getItem(e)||""),t},t.setSessionStorageItem=function(e,t){n&&null!=t&&("string"!=typeof t&&(t=JSON.stringify(t)),0<t.length&&n.setItem(e,t))},t.removeSessionStorageItem=function(e){n&&n.removeItem(e)},function(e){var t=1,o="_BWDB",a={FINGERPRINT:"fp"},r=[],n=function(){var e=!0;return f.indexedDB||(f.indexedDB=f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,f.IDBTransaction=f.IDBTransaction||f.webkitIDBTransaction||f.msIDBTransaction||{READ_WRITE:"readwrite"},f.IDBKeyRange=f.IDBKeyRange||f.webkitIDBKeyRange||f.msIDBKeyRange,f.indexedDB||(e=!1)),(n=function(){return e})()};function i(e){var s=e,c=function(e,t,n){var o,r=s.transaction(e,"readwrite"),i=r.objectStore(e),a=!1;"function"!=typeof n&&(n=function(){}),r.oncomplete=function(e){a||n({success:!0,msg:null,event:e,result:o&&o.result})},r.onerror=function(e){a||n({success:!1,msg:e.target.error.message,event:e}),a=!0};try{o=t(i)}catch(e){n({success:!(a=!0),msg:e.message,event:e})}};function t(o){var r="add",i="put",a="delete",s=function(t,n){var o,r,i;return Array.isArray(t)?function(e){for(o=0,r=t.length;o<r;o++)i=e[n](t[o]);return i}:function(e){return e[n](t)}};this.storeName=o,this.insert=function(e,t){var n=s(e,r);c(o,n,t)},this.update=function(e,t){var n=s(e,i);c(o,n,t)},this.delete=function(e,t){var n=s(e,a);c(o,n,t)},this.getByIndex=function(t,e){c(o,function(e){return e.get(t)},e)},this.getRange=function(t,e){c(o,t&&"*"!==t?function(e){return e.getAll(t)}:function(e){return e.getAll()},e)}}this.startTransaction=c,this.getStore=function(e){return new t(e)},this.close=function(){s.close()}}function s(n){var e=f.indexedDB.open(o,t);e.onerror=function(){n(!1)},e.onsuccess=function(e){var t=new i(e.target.result);r.push(t),n(t)},e.onupgradeneeded=function(e){var t,n,o,r,i=e.target.result;t=i,n=a.FINGERPRINT,o={keyPath:"name"},(r=t.createObjectStore(n,o)).createIndex("value","value",{unique:!1}),r.createIndex("change_count","value",{unique:!1}),r.createIndex("create_time","create_time",{unique:!1}),r.createIndex("update_time","update_time",{unique:!1}),r.transaction.oncomplete=function(){}}}e.STORE=a,e.openIndexedDB=function(e){n()?s(e):e(!1)},e.deleteIndexedDB=function(e){var t,n;!function(){var e,t;for(e=0,t=r.length;e<t;e++)r[e].close()}(),t=e,(n=f.indexedDB.deleteDatabase(o)).onerror=function(e){t({success:!1,event:e})},n.onblocked=function(e){t({success:!1,event:e})},n.onsuccess=function(e){t({success:!0,event:e})}}}(this),(i=this).getCookie=function(e){var t,n,o,r="";try{for(e=decodeURIComponent(e),n=(t=document.cookie.split(";")).length-1;0<=n;)0===(o=t[n].trim()).indexOf(e)&&(r=o.substring(e.length+1,o.length)),n-=1}catch(e){}return decodeURIComponent(r)},i.setCookie=function(e,t,n,o,r,i){if(e&&t)try{var a=encodeURIComponent(e)+"="+encodeURIComponent(t),s="";"number"==typeof n&&((s=new Date).setSeconds(s.getSeconds()+n),s="; expires="+s.toUTCString()),o=o?"; path="+o:"; path=/",r=r?"; domain="+r:"",i=i?"; secure=true":"",document.cookie=[a,s,o,r,i].join("")}catch(e){}}}.bind(e={})(),e;var e}),c.ensureModuleRegistered("configStore",function(){return function(){var e,n,o;e=this,(n={})[o="facebookEvent"]={},e.initFbEventConfig=function(e){n[o][e]=n[o][e]||{uniqueEvent:"PageView",shouldSendFbUniqueEvent:!0}},e.getFacebookEventConfig=function(e){return n[o][e]},e.setShouldSendFbUniqueEvent=function(e,t){"boolean"==typeof t&&(n[o][e].shouldSendFbUniqueEvent=t)},e.setFacebookEventConfig=function(e,t){n[o][e]=t}}.bind(e={})(),e;var e}),c.ensureModuleRegistered("initParamList",function(){return function(){!function(e){var a="deep";function t(){this._paramList=[]}t.prototype.append=function(e,t){return this._append(encodeURIComponent(e),t,a),this},t.prototype.appendList=function(e,t){var n,o="[";if(!t)return this;for(n=0;n<t.length;n++)o=o+'"'+t[n]+'"',t.length-1!==n&&(o+=",");return o+="]",this._append(encodeURIComponent(e),o,a),this},t.prototype._appendPrimitive=function(e,t){null!=t&&this._paramList.push({name:e,value:t})},t.prototype._appendObject=function(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&this._append(e+"["+encodeURIComponent(n)+"]",t[n],"shallow")},t.prototype._append=function(e,t,n){var o,r,i;n=n||a,i=typeof(r=t),null==r||"number"===i||"boolean"===i||"string"===i?this._appendPrimitive(e,t):n===a?this._appendObject(e,t):this._appendPrimitive(e,(o=t,"undefined"!=typeof JSON&&null!==JSON&&JSON.stringify?JSON.stringify(o):Object.prototype.toString.call(o)))},t.prototype.each=function(e){var t,n,o;for(t=0,n=this._paramList.length;t<n;t++)(o=e(this._paramList[t].name,this._paramList[t].value))&&(this._paramList[t]=o)},t.prototype.addRange=function(e){var n=this;e.each(function(e,t){return n._append(e,t)})},t.prototype.toQueryString=function(){var n=[];return this.each(function(e,t){n.push(e+"="+encodeURIComponent(t))}),n.join("&")},t.prototype.truncate=function(n,o,r){this.each(function(e,t){if(e===n&&"string"==typeof t&&t.length>o)return r=r||"__T",{name:e,value:t=t.substr(0,o)+r}})},e.createParamlist=t}(this)}.bind(e={})(),e;var e}),c.ensureModuleRegistered("eventsLogging",function(){return function(){!function(e){var a=f._bw,s=!1,c=!0,u=.1,l="pixelEvent",n=!0,o={duplicatePixelId:"duplicatePixelId",invalidMethod:"invalidMethod",invalidPixelId:"invalidPixelId",invalidEventName:"invalidEventName",invalidUserData:"invalidUserData",invalidCustomData:"invalidCustomData",invalidConsentAction:"invalidConsentAction",invalidParam:"invalidParam",invalidParamValue:"invalidParamValue",noMethodParam:"noMethodParam",notAnyPixelId:"notAnyPixelId",nonInitializePixelId:"nonInitializePixelId",invalidSetType:"invalidSetType",invalidOption:"invalidOption",autoinitFailed:"autoinitFail"};function r(e,t){var n=new(a.getModules("utils").EventLogger)(l,{samplingRatio:t});try{n.logError(e.from,{url:encodeURIComponent(f.location.href),desc:e.message})}catch(e){}}function d(e){var t=f.console;n&&t&&t.warn&&t.warn("[Bridgewell Tracking Code] - "+e)}function i(e,t){c?r({from:e,message:t},u):r({from:e,message:t}),s&&d(t)}e.enableVerboseDebugLogging=function(){s=!0},e.disableAllLogging=function(){n=!1},e.disableSampling=function(){c=!1},e.sendError=r,e.logError=i,e.logUserError=function(e){d(function(e){var t=" must be a string type.",n=" must be an object type.";switch(e.type){case o.duplicatePixelId:return'Duplicate pixel id: "'+e.pixelId+'".';case o.invalidMethod:return"\"bw('"+e.method+"', ...);\" is an invalid bw command.";case o.invalidPixelId:return"The pixel id: "+e.pixelId+t;case o.invalidEventName:return"The event name: "+e.eventName+t;case o.invalidCustomData:return"The custom data: "+e.customData+n;case o.invalidUserData:return"The user data: "+e.userData+n;case o.invalidConsentAction:return"The action: "+e.action+" for \"bw('consent', '"+e.action+'\', ...);" is an invalid action. Valid actions are "revoke" and "grant".';case o.invalidParam:return'Parameter: "'+e.param+'" must be a '+e.validationType+" type.";case o.invalidParamValue:return'Parameter: "'+e.param+'" is an invalid value. Valid values are "'+e.validationValue.join('", "').replace(/,([^,]*)$/,", and$1")+'".';case o.noMethodParam:return"You must provide other parameters for \"bw('"+e.method+"', ...)\".";case o.notAnyPixelId:return"Not initialize any pixel id, please initialize a pixel id first and then call \"bw('track', ...);\" or \"bw('track', ...);\"";case o.nonInitializePixelId:return'The pixel id: "'+e.pixelId+'" is not initialized first.';case o.invalidSetType:return"The type of set: "+e.setType+" does not exist.";case o.invalidOption:return"The type of option should be boolean.";default:return i(e.from,e.message),"Invalid User Error."}}(e))},e.logBotEvent=function(e,t,n){var o=a.getModules("utils"),r={from:e,message:t},i=new o.EventLogger(l,{samplingRatio:c?n||u:1});try{i.logInfo(r.from,{url:encodeURIComponent(o.getUrl()),desc:r.message})}catch(e){}s&&d(t)},e.errorType=o}(this)}.bind(e={})(),e;var e}),c.ensureModuleRegistered("supportedMethods",function(){return function(){!function(e){var c=f._bw,r=Object.prototype.hasOwnProperty,u=Object.prototype.toString,l=c.getModules("utils"),t=c.getModules("eventsLogging"),d=t.errorType,g=t.logUserError,i={autoConfig:"autoConfig"},n={revoke:"revoke",grant:"grant"};function p(e,t,n){var o,r=c.pixelIds,i=c.getModules("configStore"),a=r[e];return t=t||{},"string"!=typeof e?(g({type:d.invalidPixelId,pixelId:e}),!1):("[object Object]"!==u.call(t)&&(g({type:d.invalidUserData,pixelId:e,userData:t}),t={}),void 0===a?(o={id:e,userData:{},eventCount:0},c.pixelIdList.push(o),r[e]=o):o=a,0<Object.keys(t).length&&(o.userData=t),n?i.setFacebookEventConfig(e,n):i.initFbEventConfig(e),c.flushPushedQueues(),!0)}function a(e,t,n,o){var r,i,a=c.pixelIds,s=a[e];return"object"!=typeof o&&(o={}),r=o.useBeacon||!1,i=o.thirdPartyTrackingData||{},n=n||{},"string"!=typeof e?(g({type:d.invalidPixelId,pixelId:e}),!1):void 0===s&&(p(e),void 0===(s=a[e]))?(g({type:d.autoinitFailed,pixelId:e}),!1):"string"!=typeof t?(g({type:d.invalidEventName,eventName:t}),!1):("[object Object]"!==u.call(n)&&(g({type:d.invalidCustomData,customData:n}),n={}),l.sendEvent(e,t,n,l.generateBaseParamList(s),r,i),!0)}e.init=p,e.set=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(),o={};r.call(i,n)||g({type:d.invalidSetType,setType:n}),o.autoConfig=function(e,t){var n=c.disabledAutoConfigList,o=n.indexOf(t);"boolean"==typeof e?"string"==typeof t?(-1!==o&&n.splice(o,1),e||n.push(t)):g({type:d.invalidPixelId,pixelId:t}):g({type:d.invalidOption})},(e=o[n])&&e.apply(this,t)},e.consent=function(e){if(r.call(n,e))switch(e){case n.revoke:c.isLocked=!0;break;case n.grant:delete c.isLocked,l.flushQueue(c.queueLocked)}else g({type:d.invalidConsentAction,action:e})},e.track=function(e,t){var n,o,r=c.pixelIdList,i=r.length;if(t=t||{},!i)return g({type:d.notAnyPixelId}),!1;if("string"!=typeof e)return g({type:d.invalidEventName,eventName:e}),!1;for("[object Object]"!==u.call(t)&&(g({type:d.invalidCustomData,customData:t}),t={}),n=0;n<i;n++)o=r[n],l.sendEvent(o.id,e,t,l.generateBaseParamList(o));return!0},e.trackCustom=function(e,t,n,o){return n&&"object"==typeof n||(n={}),n.custom_event_name=t,a(e,"custom",n,o)},e.trackSingle=a,e.prepareThirdPartyData=function(e,t,n){var o="PageView",r=c.pixelIds,i=r[e],a=l.generateBaseParamList(i),s={};return"string"!=typeof e?(g({type:d.invalidPixelId,pixelId:e}),!1):void 0===i&&(p(e),void 0===(i=r[e]))?(g({type:d.autoinitFailed,pixelId:e}),!1):("[object Object]"!==u.call(s)&&(g({type:d.invalidCustomData,customData:s}),s={}),l.sendTrackingApi(e,o,t,s,a,n),!0)},e.debug=function(e){"boolean"==typeof e?c.developMode=e:g({type:d.invalidOption})}}(this)}.bind(e={})(),e;var e}),c.ensureModuleRegistered("main",function(){return o=c.getModules("supportedMethods"),e=c.getModules("utils"),t="_bwq",n=c.getModules("storageUtils"),r=c.getModules("eventsLogging"),i=r.errorType,a=r.logUserError,s={init:"init",set:"set",consent:"consent",track:"track",trackSingle:"trackSingle",trackCustom:"trackCustom",prepareThirdPartyData:"prepareThirdPartyData",debug:"debug"},c.version="1.1.0",c.it=e.now(),c.gid=n.getCookie("_ga"),c.orgid=n.getCookie("_bworgid"),e.toGetOrgUserId(function(e){c.orgid=e,n.setCookie("_bworgid",c.orgid)}),c.ubid="",e.getUBID(function(e){c.ubid=e}),e.processGYMTripId(),c.fp=e.getBridgewellFirstPartyCookie("__BWfp"),c.metadata=e.getMetadata(),c.developMode=!1,c.queue=c.queue||[],c.queueLocked=[],c.pixelIds={},c.pixelIdList=[],c.disabledAutoConfigList=[],c.callMethods=function(){var e=Object.prototype.hasOwnProperty,t=Array.prototype.slice.call(arguments),n=t.shift();e.call(s,n)?t.length?c.isLocked&&n!==s.consent?c.queueLocked.push(arguments):o[n].apply(this,t):a({type:i.noMethodParam,method:n}):a({type:i.invalidMethod,method:n})},c.flushPushedQueues=function(){f[t]=f[t]||[],e.flushHackPushedDataLayer(t)},e.flushQueue(c.queue),e.hackPush(t),{};var o,e,t,n,r,i,a,s}),c.getModules("main")}(window);